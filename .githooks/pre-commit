#!/bin/sh
./gradlew spotlessApply build

echo 'ğŸ” Running pre-commit checks...'
./gradlew spotlessApply  # ì½”ë“œ ìŠ¤íƒ€ì¼ ìë™ ìˆ˜ì •
./gradlew clean build -x test --scan

if [ $? -ne 0 ]; then
  echo "âŒ Pre-commit checks failed. Fix the errors before committing."
  exit 1  # ì»¤ë°‹ ì°¨ë‹¨
fi

echo "ğŸ” Checkstyle ê²€ì‚¬ ì‹¤í–‰ ì¤‘..."
./gradlew checkstyleMain
if [ $? -ne 0 ]; then
  echo "âŒ Checkstyle ê·œì¹™ ìœ„ë°˜! ì»¤ë°‹ì´ ì¤‘ë‹¨ë©ë‹ˆë‹¤."
  exit 1
fi

echo "âœ… ëª¨ë“  ê²€ì‚¬ í†µê³¼! ì»¤ë°‹ì„ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
